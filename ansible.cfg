[defaults]
# stdout_callback=unixy
interpreter_python=auto_silent
inventory=./ansible_plugins/inventory/profiles.yml
lookup_plugins=./ansible_plugins/lookup
inventory_plugins=./ansible_plugins/inventory
action_plugins=./ansible_plugins/action
filter_plugins=./ansible_plugins/filter
become = true
pipelining = True
forks = 1
roles_path = .ansible/roles
collections_path = .ansible/collections

# Performance optimizations
# Use implicit gathering to ensure facts available during validation/compilation
# Fact caching still provides performance benefits on subsequent runs
gathering = implicit
# Only gather minimal facts needed (Mitogen may still override this)
gather_subset = !all,!min,distribution,env,user_dir
fact_caching = jsonfile
fact_caching_connection = .ansible/facts
fact_caching_timeout = 86400
use_persistent_connections = true

# Enable Mitogen for Ansible: https://mitogen.networkgenomics.com/ansible_detailed.html
strategy_plugins = .venv/lib/python3.14/site-packages/ansible_mitogen/plugins/strategy
strategy = mitogen_linear
